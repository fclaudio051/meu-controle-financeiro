(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{347:()=>{},4436:(e,t,r)=>{"use strict";r.d(t,{k5:()=>d});var s=r(2115),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=s.createContext&&s.createContext(a),n=["attr","size","title"];function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var s,a,l;s=e,a=t,l=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[a]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e){return t=>s.createElement(x,o({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,r)=>s.createElement(t.tag,c({key:r},t.attr),e(t.child)))}(e.child))}function x(e){var t=t=>{var r,{attr:a,size:l,title:i}=e,d=function(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)r=l[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,n),x=l||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),s.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,d,{className:r,style:c(c({color:e.color||t.color},t.style),e.style),height:x,width:x,xmlns:"http://www.w3.org/2000/svg"}),i&&s.createElement("title",null,i),e.children)};return void 0!==l?s.createElement(l.Consumer,null,e=>t(e)):t(a)}},5210:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(5155),a=r(2115);function l(e){let{entries:t}=e,r=t.filter(e=>"receita"===e.type).reduce((e,t)=>e+t.value,0),a=t.filter(e=>"receita"!==e.type).reduce((e,t)=>e+t.value,0),l=r-a,n=l>0?"bg-green-100 text-green-800":l<0?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800";return(0,s.jsxs)("div",{className:"w-full flex flex-wrap justify-between gap-3 mb-6",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-[120px] max-w-[320px] p-3 rounded-md shadow-sm bg-green-100 text-green-800",children:[(0,s.jsx)("h3",{className:"text-xs font-semibold text-gray-600",children:"Receitas"}),(0,s.jsx)("p",{className:"text-xl font-bold",children:r.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),(0,s.jsxs)("div",{className:"flex-1 min-w-[120px] max-w-[320px] p-3 rounded-md shadow-sm bg-red-100 text-red-800",children:[(0,s.jsx)("h3",{className:"text-xs font-semibold text-gray-600",children:"Despesas"}),(0,s.jsx)("p",{className:"text-xl font-bold",children:a.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),(0,s.jsxs)("div",{className:"flex-1 min-w-[120px] max-w-[320px] p-3 rounded-md shadow-sm ".concat(n),children:[(0,s.jsx)("h3",{className:"text-xs font-semibold text-gray-600",children:"Saldo"}),(0,s.jsx)("p",{className:"text-xl font-bold",children:l.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]})}function n(e){let{onAdd:t,visible:r,onClose:l,people:n,initialEntry:o}=e,[i,c]=(0,a.useState)({type:"receita",person:"",date:new Date().toISOString().split("T")[0],value:0,description:""}),[d,x]=(0,a.useState)(1);return((0,a.useEffect)(()=>{o?c({type:o.type,person:o.person,date:o.date,value:o.value,description:o.description}):c({type:"receita",person:"",date:new Date().toISOString().split("T")[0],value:0,description:""}),x(1)},[o]),r)?(0,s.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!i.value||isNaN(Number(i.value)))return alert("Informe um valor v\xe1lido!");if(!i.person)return alert("Selecione uma pessoa.");if(!i.description.trim())return alert("A descri\xe7\xe3o \xe9 obrigat\xf3ria.");let r=new Date(i.date),s=e=>{let t=new Date(r);return t.setMonth(r.getMonth()+e),{...i,id:crypto.randomUUID(),value:parseFloat(i.value.toString()),date:t.toISOString().split("T")[0]}};"despesa_fixa"===i.type&&d>1?Array.from({length:d}).map((e,t)=>s(t+1)).forEach(t):t({...i,id:(null==o?void 0:o.id)||crypto.randomUUID(),value:parseFloat(i.value.toString())}),l()},className:"bg-white p-6 rounded-lg shadow-md max-w-md mx-auto w-full",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:o?"Editar Lan\xe7amento":"Adicionar Lan\xe7amento"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo:"}),(0,s.jsxs)("select",{value:i.type,onChange:e=>c({...i,type:e.target.value}),className:"w-full p-2 border border-gray-300 rounded",children:[(0,s.jsx)("option",{value:"receita",children:"Receita"}),(0,s.jsx)("option",{value:"despesa_fixa",children:"Despesa Fixa"}),(0,s.jsx)("option",{value:"despesa_variavel",children:"Despesa Vari\xe1vel"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pessoa:"}),(0,s.jsxs)("select",{value:i.person,onChange:e=>c({...i,person:e.target.value}),className:"w-full p-2 border border-gray-300 rounded",children:[(0,s.jsx)("option",{value:"",children:"Selecione uma pessoa"}),n.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data:"}),(0,s.jsx)("input",{type:"date",value:i.date,onChange:e=>c({...i,date:e.target.value}),className:"w-full p-2 border border-gray-300 rounded"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor:"}),(0,s.jsx)("input",{type:"number",step:"0.01",value:isNaN(i.value)?"":i.value,onChange:e=>{let t=e.target.value;c({...i,value:""===t?0:parseFloat(t)})},className:"w-full p-2 border border-gray-300 rounded",placeholder:"0,00"})]}),"despesa_fixa"===i.type&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Repetir por quantos meses?"}),(0,s.jsx)("input",{type:"number",min:1,value:isNaN(d)?"":d,onChange:e=>{let t=e.target.value;x(""===t?1:parseInt(t))},className:"w-full p-2 border border-gray-300 rounded",placeholder:"Ex: 3"})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descri\xe7\xe3o:"}),(0,s.jsx)("input",{type:"text",value:i.description,onChange:e=>c({...i,description:e.target.value}),className:"w-full p-2 border border-gray-300 rounded",placeholder:"Descri\xe7\xe3o do lan\xe7amento"})]})]}),(0,s.jsx)("div",{className:"flex gap-2 mt-6",children:o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{type:"submit",className:"w-full bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded",children:"Atualizar"}),(0,s.jsx)("button",{type:"button",onClick:l,className:"w-full bg-gray-300 hover:bg-gray-400 text-gray-800 py-2 px-4 rounded",children:"Cancelar"})]}):(0,s.jsx)("button",{type:"submit",className:"w-full bg-blue-700 hover:bg-blue-800 text-white font-bold py-2 px-4 rounded",children:"Adicionar"})})]}):null}var o=r(9911);function i(e){let{entries:t,onDelete:r,onEdit:a,people:l}=e,n=l.reduce((e,t)=>(e[t.id]=t.name,e),{});return(0,s.jsx)("div",{className:"overflow-x-auto mt-6 bg-white rounded-lg shadow-md",children:(0,s.jsxs)("table",{className:"min-w-full border-collapse",children:[(0,s.jsx)("thead",{className:"bg-gray-100 border-b border-gray-300",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"Data"}),(0,s.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"Descri\xe7\xe3o"}),(0,s.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"Tipo"}),(0,s.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"Valor"}),(0,s.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"Pessoa"}),(0,s.jsx)("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"A\xe7\xf5es"})]})}),(0,s.jsx)("tbody",{children:t.map((e,t)=>(0,s.jsxs)("tr",{className:"".concat(t%2==0?"bg-white":"bg-gray-50"," hover:bg-gray-100 transition-colors"),children:[(0,s.jsx)("td",{className:"py-3 px-4 whitespace-nowrap",children:new Date(e.date).toLocaleDateString()}),(0,s.jsx)("td",{className:"py-3 px-4",children:e.description}),(0,s.jsx)("td",{className:"py-3 px-4",children:(0,s.jsx)("span",{className:"px-2 py-1 rounded text-xs font-semibold ".concat("receita"===e.type?"bg-green-100 text-green-700":"despesa_fixa"===e.type?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"),children:e.type.replace("_"," ")})}),(0,s.jsxs)("td",{className:"py-3 px-4 font-semibold whitespace-nowrap ".concat("receita"===e.type?"text-green-600":"text-red-600"),children:["R$ ",e.value.toFixed(2)]}),(0,s.jsx)("td",{className:"py-3 px-4 whitespace-nowrap",children:n[e.person]||"Desconhecido"}),(0,s.jsxs)("td",{className:"py-3 px-4 flex gap-2 whitespace-nowrap",children:[(0,s.jsxs)("button",{onClick:()=>a(e),className:"flex items-center gap-1 text-blue-600 hover:text-blue-800 transition rounded px-2 py-1 text-sm font-medium",title:"Editar",children:[(0,s.jsx)(o.uO9,{}),"Editar"]}),(0,s.jsxs)("button",{onClick:()=>r(e.id),className:"flex items-center gap-1 text-red-600 hover:text-red-800 transition rounded px-2 py-1 text-sm font-medium",title:"Excluir",children:[(0,s.jsx)(o.qbC,{}),"Excluir"]})]})]},e.id))})]})})}function c(e){let{people:t,setPeople:r}=e,[l,n]=(0,a.useState)(""),o=e=>{r(t=>t.filter(t=>t.id!==e))};return(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md pb-20",children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Gerenciar Pessoas"}),(0,s.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,s.jsx)("input",{type:"text",value:l,onChange:e=>n(e.target.value),placeholder:"Nome da pessoa",className:"flex-1 border border-gray-300 rounded-lg px-4 py-2"}),(0,s.jsx)("button",{onClick:()=>{let e=l.trim();if(!e)return;let t={id:crypto.randomUUID(),name:e};r(e=>[...e,t]),n("")},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition",children:"Adicionar"})]}),0===t.length?(0,s.jsx)("p",{className:"text-gray-500 text-sm",children:"Nenhuma pessoa cadastrada."}):(0,s.jsx)("ul",{className:"space-y-2",children:t.map(e=>(0,s.jsxs)("li",{className:"flex justify-between items-center bg-gray-50 px-4 py-2 rounded-md",children:[(0,s.jsx)("span",{className:"text-gray-800",children:e.name}),(0,s.jsx)("button",{onClick:()=>o(e.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Excluir"})]},e.id))})]})}var d=r(7650);function x(e){let{isOpen:t,onClose:r,children:l}=e;return((0,a.useEffect)(()=>{let e=e=>{"Escape"===e.key&&r()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[r]),t)?(0,d.createPortal)((0,s.jsx)("div",{onClick:r,className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm transition-opacity duration-300",children:(0,s.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-xl relative animate-fadeIn",children:[(0,s.jsx)("button",{onClick:r,className:"absolute top-3 right-3 text-gray-500 hover:text-gray-800 transition",children:(0,s.jsx)(o.QCr,{size:20})}),l]})}),document.body):null}r(347);let p=["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],u=function(){let[e,t]=(0,a.useState)([]),[r,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(null),[h,b]=(0,a.useState)(!1),[g,y]=(0,a.useState)(!1),[f,j]=(0,a.useState)(!1),[v,N]=(0,a.useState)(new Date().getMonth()),[w,O]=(0,a.useState)(new Date().getFullYear());(0,a.useEffect)(()=>{let e=localStorage.getItem("financeEntries"),r=localStorage.getItem("people");e&&t(JSON.parse(e)),r&&d(JSON.parse(r))},[]),(0,a.useEffect)(()=>{localStorage.setItem("financeEntries",JSON.stringify(e))},[e]),(0,a.useEffect)(()=>{localStorage.setItem("people",JSON.stringify(r))},[r]);let S=(0,a.useMemo)(()=>{let e={};return r.forEach(t=>e[t.id]=t.name),e},[r]),C=(0,a.useMemo)(()=>e.filter(e=>{let t=new Date(e.date);return t.getMonth()===v&&t.getFullYear()===w}),[e,v,w]),E=(0,a.useMemo)(()=>{let e={};return C.forEach(t=>{t.person&&(e[t.person]||(e[t.person]={receita:0,despesa:0}),"receita"===t.type?e[t.person].receita+=t.value:e[t.person].despesa+=t.value)}),e},[C]),k=()=>{b(!1),m(null)};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:[(0,s.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Meu Controle Financeiro"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-4 mb-6",children:[(0,s.jsx)("button",{onClick:()=>{m(null),b(!h)},className:"px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ".concat(h?"bg-red-600 hover:bg-red-800":"bg-green-600 hover:bg-green-800"," text-white"),children:h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.QCr,{}),(0,s.jsx)("span",{children:"Fechar Formul\xe1rio"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.OiG,{}),(0,s.jsx)("span",{children:"Adicionar Lan\xe7amento"})]})}),(0,s.jsxs)("button",{onClick:()=>j(!0),className:"px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-800 text-white flex items-center gap-2",children:[(0,s.jsx)(o.M5n,{}),"Gerenciar Pessoas"]}),(0,s.jsxs)("button",{onClick:()=>y(!0),className:"px-4 py-2 rounded-lg bg-purple-600 hover:bg-purple-800 text-white flex items-center gap-2",children:[(0,s.jsx)(o.qvi,{}),"Resumo por Pessoa"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsx)(x,{isOpen:h,onClose:k,children:(0,s.jsx)(n,{onAdd:e=>{u?t(t=>t.map(t=>t.id===e.id?e:t)):t(t=>[...t,e]),m(null),b(!1)},visible:!0,onClose:k,people:r,initialEntry:u})}),(0,s.jsxs)("div",{className:"lg:col-span-3",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Filtros"}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("select",{value:v,onChange:e=>N(parseInt(e.target.value)),className:"p-2 border border-gray-300 rounded",children:p.map((e,t)=>(0,s.jsx)("option",{value:t,children:e},t))}),(0,s.jsx)("input",{type:"number",value:w,onChange:e=>O(parseInt(e.target.value)),className:"p-2 border border-gray-300 rounded"})]})]}),(0,s.jsx)(l,{entries:C}),(0,s.jsx)(i,{entries:C,onDelete:e=>{t(t=>t.filter(t=>t.id!==e))},people:r,onEdit:e=>{m(e),b(!0)}})]})]})]}),(0,s.jsx)(x,{isOpen:f,onClose:()=>j(!1),children:(0,s.jsx)(c,{people:r,setPeople:d})}),(0,s.jsx)(x,{isOpen:g,onClose:()=>y(!1),children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Resumo por Pessoa"}),(0,s.jsxs)("table",{className:"w-full text-left border-collapse mt-2",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"py-2 px-3 border-b font-medium",children:"Pessoa"}),(0,s.jsx)("th",{className:"py-2 px-3 border-b font-medium text-green-700",children:"Receitas"}),(0,s.jsx)("th",{className:"py-2 px-3 border-b font-medium text-red-700",children:"Despesas"}),(0,s.jsx)("th",{className:"py-2 px-3 border-b font-medium",children:"Saldo"})]})}),(0,s.jsx)("tbody",{className:"text-gray-700",children:Object.entries(E).map(e=>{let[t,{receita:r,despesa:a}]=e,l=r-a,n=S[t]||"Desconhecido";return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"py-2 px-3 border-b",children:n}),(0,s.jsxs)("td",{className:"py-2 px-3 border-b text-green-600",children:["R$ ",r.toFixed(2)]}),(0,s.jsxs)("td",{className:"py-2 px-3 border-b text-red-600",children:["R$ ",a.toFixed(2)]}),(0,s.jsxs)("td",{className:"py-2 px-3 border-b ".concat(l>=0?"text-green-700":"text-red-700"),children:["R$ ",l.toFixed(2)]})]},t)})})]})]})})]})}},5921:(e,t,r)=>{Promise.resolve().then(r.bind(r,5210))}},e=>{var t=t=>e(e.s=t);e.O(0,[690,711,441,684,358],()=>t(5921)),_N_E=e.O()}]);